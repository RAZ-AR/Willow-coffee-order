# –§–ª–æ—É —Å–∏—Å—Ç–µ–º—ã Willow Coffee

## 1. üÜï –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### Telegram:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç `/start` –≤ –±–æ—Ç
2. –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç webhook ‚Üí GAS –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É
3. **GAS —Å–æ–∑–¥–∞–µ—Ç –∫–∞—Ä—Ç—É** –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ:
   ```
   Hi, @username!
   –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Willow! –í–∞—à–∞ –∫–∞—Ä—Ç–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏:
   –ö–∞—Ä—Ç–∞: #1234
   ‚≠ê 0
   ```

### Google Sheets (Cards):
```
telegram_id  | card_number | username | first_name | created_at
7487116353   | 1234        | bari_lus | A-R        | 15.09.2025 5:45
```

### –ú–∏–Ω–∏-–∞–ø–ø:
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ ‚Üí –∑–∞–ø—Ä–æ—Å –∫ GAS ‚Üí –ø–æ–ª—É—á–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–∞—Ä—Ç—É
- Header –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: `üí≥ #1234 ‚≠ê 0`

---

## 2. üõí –ó–∞–∫–∞–∑ –≤ –º–∏–Ω–∏-–∞–ø–ø–µ

### –ú–∏–Ω–∏-–∞–ø–ø –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É
2. –ó–∞–ø–æ–ª–Ω—è–µ—Ç —Ñ–æ—Ä–º—É: –≤—Ä–µ–º—è, —Å—Ç–æ–ª, —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã
3. –ù–∞–∂–∏–º–∞–µ—Ç "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑"

### GAS –æ–±—Ä–∞–±–æ—Ç–∫–∞:
1. –°–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ Orders:
```
order_id | telegram_id | card_number | total | when | table | payment | items_json     | created_at
ORD001   | 7487116353  | 1234        | 500   | now  | 5     | cash    | [{"id":"..."}] | 15.09.2025 6:00
```

2. –ù–∞—á–∏—Å–ª—è–µ—Ç –∑–≤–µ–∑–¥—ã –≤ StarsLog:
```
card_number | delta | reason      | created_at
1234        | +5    | order_ORD001| 15.09.2025 6:00
```

### Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:

#### –ö–ª–∏–µ–Ω—Ç—É (–ª–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ):
```
‚úÖ –í–∞—à –∑–∞–∫–∞–∑ –ø–æ–ª—É—á–µ–Ω. –ù–∞—á–∏–Ω–∞–µ–º –≥–æ—Ç–æ–≤–∏—Ç—å!

üìã –ó–∞–∫–∞–∑: ORD001
üí∞ –°—É–º–º–∞: 500 RSD
‚≠ê –í—ã –ø–æ–ª—É—á–∏–ª–∏: +5 –∑–≤–µ–∑–¥
üí≥ –ö–∞—Ä—Ç–∞: #1234 (–≤—Å–µ–≥–æ –∑–≤–µ–∑–¥: 5)

–ü–æ–∑–∏—Ü–∏–∏:
- Espresso S x1 (150 RSD)
- Cappuccino L x1 (350 RSD)
```

#### –í –≥—Ä—É–ø–ø—É –∫–∞—Ñ–µ (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ + –¥–µ—Ç–∞–ª–∏):
```
üÜï –ù–æ–≤—ã–π –∑–∞–∫–∞–∑

üìã –ó–∞–∫–∞–∑: ORD001
üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: @bari_lus (–∫–∞—Ä—Ç–∞ #1234)
üí∞ –°—É–º–º–∞: 500 RSD
‚≠ê –ù–∞—á–∏—Å–ª–µ–Ω–æ –∑–≤–µ–∑–¥: +5 (–≤—Å–µ–≥–æ —É –∫–ª–∏–µ–Ω—Ç–∞: 5)
üïê –ö–æ–≥–¥–∞: —Å–µ–π—á–∞—Å
ü™ë –°—Ç–æ–ª: 5
üí≥ –û–ø–ª–∞—Ç–∞: –Ω–∞–ª–∏—á–Ω—ã–µ

üì¶ –ü–æ–∑–∏—Ü–∏–∏:
- Espresso S x1 (150 RSD)
- Cappuccino L x1 (350 RSD)
```

---

## 3. üîÑ –í—Ö–æ–¥ —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### Telegram:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç `/start` ‚Üí –±–æ—Ç –Ω–∞—Ö–æ–¥–∏—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–∞—Ä—Ç—É
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:
   ```
   Hi, @bari_lus!
   –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Willow! –í–∞—à–∞ –∫–∞—Ä—Ç–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏:
   –ö–∞—Ä—Ç–∞: #1234
   ‚≠ê 5
   ```

### Google Sheets:
- **Cards:** –¥–∞–Ω–Ω—ã–µ –ù–ï –∏–∑–º–µ–Ω—è—é—Ç—Å—è
- **StarsLog:** —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å—É–º–º–∞ –∑–≤–µ–∑–¥ –ø–æ card_number

### –ú–∏–Ω–∏-–∞–ø–ø:
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è ‚Üí –∑–∞–ø—Ä–æ—Å –∫ GAS
2. GAS –Ω–∞—Ö–æ–¥–∏—Ç –∫–∞—Ä—Ç—É –ø–æ telegram_id
3. –°—á–∏—Ç–∞–µ—Ç –∑–≤–µ–∑–¥—ã –ø–æ card_number –∏–∑ StarsLog
4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: `{card: "1234", stars: 5}`
5. Header –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: `üí≥ #1234 ‚≠ê 5`

---

## 4. üß™ –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (–±—Ä–∞—É–∑–µ—Ä)

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
- ID: `0000` (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
- –ö–∞—Ä—Ç–∞: `#0000`
- –ó–≤–µ–∑–¥—ã: `0`
- **–ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è** –≤ Google Sheets
- **–ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç** —É–≤–µ–¥–ª–µ–Ω–∏—è –≤ Telegram

### –ú–∏–Ω–∏-–∞–ø–ø —Ç–µ—Å—Ç:
- Header –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: `üí≥ #0000 ‚≠ê 0`
- –ó–∞–∫–∞–∑—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è)

---

## 5. üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### Google Sheets —Ç–∞–±–ª–∏—Ü—ã:
- **Cards:** –æ—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Orders:** –∏—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤
- **StarsLog:** –∏—Å—Ç–æ—Ä–∏—è –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π/—Å–ø–∏—Å–∞–Ω–∏–π –∑–≤–µ–∑–¥

### Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
- **Webhook:** –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞
- **API:** –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏ –≤ –≥—Ä—É–ø–ø—ã
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:** –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É + –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ –≤ –≥—Ä—É–ø–ø—É

---

## 6. üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Backend (Google Apps Script):
- URL: `https://script.google.com/macros/s/AKfycbztt8YDXYTAb9xPOSVF5ivBoSc9IJCiywY5iQWBDxPMlBuJ10XhGnoPycVwp0lhshMY/exec`
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é, –∑–∞–∫–∞–∑—ã, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –∑–≤–µ–∑–¥, –æ—Ç–ø—Ä–∞–≤–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### Frontend (React):
- –ú–∏–Ω–∏-–∞–ø–ø –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞–∫–∞–∑–æ–≤
- localStorage –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å backend

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Google Sheets):
- **Cards:** telegram_id, card_number, username, first_name, created_at
- **Orders:** order_id, telegram_id, card_number, total, when, table, payment, items_json, created_at
- **StarsLog:** card_number, delta, reason, created_at