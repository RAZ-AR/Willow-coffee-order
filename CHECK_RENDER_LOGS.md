# –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ Render

## –ü—Ä–æ–±–ª–µ–º–∞
–í—ã –≤–∏–¥–∏—Ç–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω" –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –Ω–æ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤ Telegram.

## –†–µ—à–µ–Ω–∏–µ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Render Dashboard
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://dashboard.render.com
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç
3. –ù–∞–π–¥–∏—Ç–µ —Å–µ—Ä–≤–∏—Å **"willow-coffee-order"**
4. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ –ª–æ–≥–∏
1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **"Logs"**
2. –õ–æ–≥–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –®–∞–≥ 3: –°–¥–µ–ª–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑
1. –û—Ç–∫—Ä–æ–π—Ç–µ Mini App –≤ Telegram
2. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É
3. –û—Ñ–æ—Ä–º–∏—Ç–µ –∑–∞–∫–∞–∑
4. –°—Ä–∞–∑—É –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –ª–æ–≥–∏

### –ß—Ç–æ –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö

#### ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –∑–∞–∫–∞–∑ –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å:
```
[2025-12-10T...] POST /api/order
üõí Order request from user: 123456789
‚úÖ Order created: o_1765...
‚≠ê Added 1 stars to card 5748
üì§ Sending notifications...
üì§ User ID: 123456789
üì§ Order: { orderNumber: 'o_...', cardNumber: '5748', ... }
üì® sendHTMLMessage called: { chatId: 123456789, hasBotToken: true }
üì® Sending to Telegram API...
üì® Telegram API response: { ok: true, result: { message_id: 123 } }
‚úÖ Message sent to 123456789
üì® sendHTMLMessage called: { chatId: '-1003082827591', hasBotToken: true }
üì® Sending to Telegram API...
üì® Telegram API response: { ok: true, result: { message_id: 124 } }
‚úÖ Message sent to -1003082827591
```

#### ‚ùå –ï—Å–ª–∏ –ª–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–∏–ª–æ—Å—å:
```
üì® Telegram API response: { ok: false, description: 'Bad Request: chat not found' }
‚ö†Ô∏è  User notification failed (user may not have started the bot yet)
```

**–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:** –í—ã –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª–∏ –±–æ—Ç–∞ @Willow_coffee_bot!

#### ‚ùå –ï—Å–ª–∏ –≥—Ä—É–ø–ø–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–∏–ª–æ—Å—å:
```
üì® Telegram API response: { ok: false, description: 'Bad Request: chat not found' }
‚ö†Ô∏è  Group notification failed
```

**–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:** –ë–æ—Ç –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É –∏–ª–∏ GROUP_CHAT_ID –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π.

### –®–∞–≥ 4: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

#### –ï—Å–ª–∏ –ª–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç:
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://t.me/Willow_coffee_bot
2. –ù–∞–∂–º–∏—Ç–µ "START"
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
4. –°–¥–µ–ª–∞–π—Ç–µ –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑

#### –ï—Å–ª–∏ –≥—Ä—É–ø–ø–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É "Willow order"
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –±–æ—Ç —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –≥—Ä—É–ø–ø—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ GROUP_CHAT_ID –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è Render

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å GROUP_CHAT_ID

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://willow-coffee-order.onrender.com/api/test-notifications/env
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
```json
{
  "groupChatId": "-1003082827591"
}
```

–î–æ–ª–∂–µ–Ω –±—ã—Ç—å:
- ‚úÖ –ù–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –º–∏–Ω—É—Å–∞: `-100...`
- ‚úÖ –ë—ã—Ç—å —á–∏—Å–ª–æ–º –∏–∑ 13-14 —Ü–∏—Ñ—Ä

### –¢–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ –≥—Ä—É–ø–ø—É

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
https://willow-coffee-order.onrender.com/api/test-notifications/group
```

–î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è:
```json
{
  "ok": true,
  "result": {
    "ok": true,
    "message_id": 30
  }
}
```

–ï—Å–ª–∏ `"ok": false` - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø–µ!

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. "chat not found" –¥–ª—è –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π /start

### 2. "chat not found" –¥–ª—è –≥—Ä—É–ø–ø—ã
**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É
- –°–¥–µ–ª–∞–π—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ GROUP_CHAT_ID

### 3. –õ–æ–≥–∏ –≤–æ–æ–±—â–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è TELEGRAM_BOT_TOKEN —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
- –û—Ç–∫—Ä–æ–π—Ç–µ https://willow-coffee-order.onrender.com/api/test-notifications/env
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `hasTelegramToken: true`

### 4. –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –Ω–æ –∑–∞–∫–∞–∑ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:**
- –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SUPABASE_URL –∏ SUPABASE_SERVICE_KEY

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è:
1. –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –ª–æ–≥–æ–≤
2. –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è (–±–µ–∑ –ø–æ–∫–∞–∑–∞ —Ç–æ–∫–µ–Ω–æ–≤!)
3. –û–ø–∏—à–∏—Ç–µ —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
